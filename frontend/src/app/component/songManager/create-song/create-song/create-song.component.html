<div class="page-title m-b">
  <h1 class="inline m-a-0" style="padding-left: 50px">Add New Song</h1>
</div>


<div class="b-t">
  <div class="center-block w-xxl w-auto-xs p-y-md text-center">
    <div class="p-a-md">
      <form name="form" [formGroup]="createMusicForm">
        <div class="form-group">
          <input type="text" class="form-control" formControlName="nameSong" placeholder="Name song">
          <div *ngIf="createMusicForm.get('nameSong').invalid && createMusicForm.get('nameSong').touched"
            style="margin-top: 10px;color: red; text-align: left !important;">
            Name song is <strong>required.</strong>
          </div>
        </div>

        <div class="form-group">
          <input type="text" class="form-control" formControlName="author" placeholder="Author">
          <div *ngIf="createMusicForm.get('author').invalid && createMusicForm.get('author').touched"
            style="margin-top: 10px;color: red; text-align: left !important;">
            Author is <strong>required.</strong>
          </div>
        </div>

       


        <div class="form-group">
          <!-- <mat-form-field appearance="fill" class="example-full-width"> -->
          <mat-select formControlName="singer_id" multiple class="form-control">

            <mat-option *ngFor="let singer of singers" [value]="singer.id">{{ singer.singer_name }}</mat-option>
          </mat-select>
          <mat-error *ngIf="createMusicForm.get('singer_id').invalid && createMusicForm.get('singer_id').touched"
            style="margin-top: 10px;color: red; text-align: left !important;">
            Singer is <strong>required</strong>
          </mat-error>
          <!-- </mat-form-field> -->
        </div>
        <div class="form-group">
          <!-- <mat-form-field appearance="fill"> -->

          <mat-select formControlName="category_id" class="form-control">
            <mat-option *ngFor="let category of categories" [value]="category.id">{{ category.category_name }}
            </mat-option>
          </mat-select>
          <mat-error *ngIf="createMusicForm.get('category_id').invalid && createMusicForm.get('category_id').touched"
            style="margin-top: 10px;color: red; text-align: left !important;">
            Category is <strong>required</strong>
          </mat-error>
          <!-- </mat-form-field> -->
        </div>
        <div class="form-group">
          <mat-select formControlName="album_id" class="form-control">
            <mat-option *ngFor="let album of albums" [value]="album.id">{{ album.album_name }}</mat-option>
          </mat-select>
          <mat-error *ngIf="createMusicForm.get('album_id').invalid && createMusicForm.get('album_id').touched"
            style="margin-top: 10px;color: red; text-align: left !important;">
            Album is <strong>required</strong>
          </mat-error>
        </div>

        <div class="form-group">
          <!-- <input type="number" class="form-control" formControlName="view" placeholder="View"> -->
          <input type="number" matInput class="form-control" placeholder="View" formControlName="views">
          <mat-error
            *ngIf="createMusicForm.get('views').invalid && createMusicForm.get('views').touched">
            Views is <strong>required</strong>
          </mat-error>
        </div>
        <div class="form-group">
          <textarea class="form-control" formControlName="describes" placeholder="Describes"
            style="height: 100px;"></textarea>
          <div *ngIf="createMusicForm.get('describes').invalid && createMusicForm.get('describes').touched"
            style="margin-top: 10px;color: red; text-align: left !important;">
            Describes is <strong>required.</strong>
          </div>
        </div>
        <div class="form-group">

          <input (change)="firebase.handleFileInput($event)" accept="image/*" autocomplete="off" class="form-control"
            formControlName="avatarUrl" id="avatar" type="file" />

          <div *ngIf="firebase.percentage | async as pct">
            <div class="col-12">
              <div class="progress">
                <div [ngStyle]="{ width: pct + '%' }" aria-valuemax="100" aria-valuemin="0"
                  aria-valuenow="{{ pct | number }}" class="progress-bar progress-bar-info progress-bar-striped"
                  role="progressbar"> {{ pct | number }}%
                </div>
              </div>
            </div>
          </div>
          <div *ngIf="firebase.fileToUpload;">
            Filename: {{ firebase.fileToUpload.name }}
          </div>

          <div *ngIf="firebase.fb as url">
            <img [src]="firebase.fb" class="img-thumbnail img-fluid" style="width: 300px; height: 300px;"><br>
          </div>

          <div *ngIf="createMusicForm.get('avatarUrl').invalid && createMusicForm.get('avatarUrl').touched"
            style="margin-top: 10px;color: red; text-align: left !important;">
            Avatar is <strong>required</strong>.
          </div>

        </div>
        <div class="form-group">


          <input (change)="firebaseMP3.handleFileInput($event)" accept="audio/*" autocomplete="off" class="form-control"
            formControlName="mp3Url" id="mp3Url" type="file" />


          <div *ngIf="firebaseMP3.percentage | async as pct">
            <div class="col-12">
              <div class="progress">
                <div [ngStyle]="{ width: pct + '%' }" aria-valuemax="100" aria-valuemin="0"
                  aria-valuenow="{{ pct | number }}" class="progress-bar progress-bar-info progress-bar-striped"
                  role="progressbar"> {{ pct | number }}%
                </div>
              </div>
            </div>
          </div>
          <div *ngIf="firebaseMP3.fileToUpload;">
            Filename: {{ firebaseMP3.fileToUpload.name }}
          </div>

          <div *ngIf="firebaseMP3.fb as urlMp3">
            <audio class="playlist" controls="controls" id="audio" style="width:100%">
              <source src="{{ urlMp3 }}" type="audio/mpeg">
            </audio>
          </div>

          <div *ngIf="createMusicForm.get('mp3Url').invalid && createMusicForm.get('mp3Url').touched"
            style="color: #ff0000">
            Mp3 Url is <strong>required</strong>.
          </div>
        </div>
        <!--        <div class="m-b-md">-->
        <!--          <label class="md-check">-->
        <!--            <input type="checkbox"><i class="primary"></i> Keep me signed in-->
        <!--          </label>-->
        <!--        </div> -->

        <button class="btn btn-lg black p-x-lg" type="submit" (click)="createSong()">Add song</button>

        <!-- <button type="submit" (click)="onSubmit()" [disabled]="!loginForm.valid" class="btn btn-lg black p-x-lg">Sign
          in
        </button>-->
      </form>
      <!--      <div class="m-y">-->
      <!--        <a href="forgot-password.html" class="_600">Forgot password?</a>-->
      <!--      </div>-->

      <!-- </div> -->
      <!-- </div>
</div> -->